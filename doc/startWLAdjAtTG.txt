export CLASSPATH=/home/gme042/slinks/fs7_isi_dfo_chs_enav/Dev/GH/CHS/WLTools/bin:/home/gme042/slinks/fs7_isi_dfo_chs_enav/Dev/GH/CHS/WLTools/lib:$CLASSPATH
export LD_LIBRARY_PATH=/home/gme042/slinks/fs7_isi_dfo_chs_enav/Dev/GH/CHS/WLTools/lib/as/hdfql:$LD_LIBRARY_PATH

# --- 03335 TG id. can be passed in args or got from the maestro env. vars.

time java WLTools \
--tool=adjustment \
\
--adjType=TideGauge \
\
--locationIdInfo=03335 \
\
--minNumberOfObs=480 \ # 24 hours at 3mins time intervals
\
--referenceTimeISOFormat=2023-10-04T11:45:00Z \
\
--fullForecastModelName=ECCC_H2D2_SLFE \
\
--tideGaugeLocationsDefFileName=spineStlCHSTGs.json \
\
--tideGaugeAdjMethods=CHS_IWLS_QC:SINGLE_TIMEDEP_FMF_ERROR_STATS \
\
--tideGaugeWLODataInfo=CHS_JSON:/home/gme042/slinks/fs7_isi_dfo_chs_enav/tmp/testWLTools/tgObs/2023100406000/03335-wloZC.json \
\
--modelForecastInputDataInfo=ECCC_H2D2_ASCII:/home/gme042/slinks/fs7_isi_dfo_chs_enav/tmp/H2D2ASCII/2023100406/2023100406_SLFE_NMM.csv \
\
--tideGaugePredictInputDataInfo=CHS_JSON:/home/gme042/slinks/fs7_isi_dfo_chs_enav/tmp/TestNSTIDEPred/2023100406/StLawrence-Deschaillons-gridPoint-540.json
\
--outputDirectory=/home/gme042/slinks/fs7_isi_dfo_chs_enav/tmp/testWLTools/AdjAtTG
\
--outputDataFormat=CHS_JSON
\
--writeAllData=true
